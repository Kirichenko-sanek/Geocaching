@using Geocaching.App_GlobalResources
@model Geocaching.ViewModels.CachePageViewModel
@{
    ViewBag.Title = "CachePage";
}

<section id="single-page-header">
    <div class="overlay">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-sm-6 col-xs-12">
                    <div class="single-page-header-left">
                        <h2> @Model.Name</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section id="blog-archive">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="blog-archive-area">
                    <div class="row">
                        <div class="col-md-2"></div>
                        <div class="col-md-8">
                            <div class="blog-archive-left">
                                <article class="blog-news-single">
                                    <div class="blog-news-img">
                                        <img src="@Model.MainPhoto" alt="image">
                                    </div>
                                    <div class="blog-news-title">
                                        <p>
                                            @Html.ActionLink(@Model.UserName, "UserPage", "Profile", new {id = Model.IdUserCache}, null)
                                        </p>
                                        <p>
                                            <span class="blog-date">@Resource.DateAdded : @Model.DateOfApperance</span>
                                        </p>
                                        <p>
                                            <span class="blog-date">@Resource.DateOfLastVisit : @Model.DateOfLastVisit</span>
                                        </p>
                                    </div>
                                    <div class="blog-news-details blog-single-details">
                                        <h4>@Model.Description</h4>
                                    </div>
                                </article>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="google-map">
    <div id="map_canvas" data-latitude="@Model.Latitude" data-longitude="@Model.Longitude" style="width: 100%; height: 550px;"></div>
</section>

<section id="portfolio">
    <div class="portfolio-area">
        @Html.Partial("PhotosCache",Model.Photos)
    </div>
</section>



<section id="blog-archive">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="blog-archive-area">
                    <div class="row">
                        <div class="col-md-2"></div>
                        <div class="col-md-8">
                            <div class="comments-box-area">
                                <h2>
                                    @Resource.AddComment
                                </h2>
                                @using (Html.BeginForm("AddComment", "Cache", null, FormMethod.Post, new { enctype = "multipart/form-data" }))
                                {
                                    @Html.AntiForgeryToken()
                                    @Html.HiddenFor(model =>Model.IdCache)
                                    @Html.HiddenFor(model => Model.IdUserCache)
                                    @Html.TextAreaFor(model => model.NewComment,  new { @style = "width: 100%", @placeholder = Resource.Comment, @rows = "3" , @class = "form-control" })
                                    <input type="submit" value=@Resource.AddComment class="comment-btn"/>
                                }                               
                            </div>

                            
                            <div class="blog-archive-left">
                                @Html.Partial("Comments", Model.Comments)
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

